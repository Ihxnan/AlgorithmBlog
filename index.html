<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <title>算法日常 - Algorithm Blog</title>
    <!-- 缓存控制 -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.4.0/github-markdown.min.css">
    <link rel="stylesheet" href="css/styles.css?v=20260126181851">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
</head>
<body>
    <!-- 粒子背景 -->
    <canvas id="particleCanvas" class="particle-canvas"></canvas>
    
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="header-left">
                    <div class="author-info">
                        <a href="https://github.com/Ihxnan/AlgorithmBlog" target="_blank" rel="noopener noreferrer" title="GitHub Repository">
                            <img src="img/head.png" alt="Ihxnan" class="author-avatar">
                        </a>
                        <span class="author-name">IHXNAN</span>
                    </div>
                </div>
                <div class="header-center">
                    <h1 class="logo">
                        <i class="fas fa-code"></i>
                        算法日常
                    </h1>
                    <p class="subtitle">Algorithm Blog</p>
                </div>
                <div class="auth-section">
                    <button class="auth-btn" id="loginBtn">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>登录</span>
                    </button>
                    <button class="auth-btn auth-btn-primary" id="registerBtn">
                        <i class="fas fa-user-plus"></i>
                        <span>注册</span>
                    </button>
                </div>
            </div>
            
            <!-- 新增功能区域 -->
            <div class="header-features">
                <div class="stats-container">
                    <div class="stat-item clickable-stat" id="totalProblemsStat" title="点击查看各类型题目数量">
                        <i class="fas fa-tasks"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="totalProblems">10</span>
                            <span class="stat-label">题目总数</span>
                        </div>
                    </div>
                    
                    <div class="stat-item clickable-stat" id="activeDaysStat" title="点击查看活跃热度图">
                        <i class="fas fa-calendar-alt"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="activeDays">3</span>
                            <span class="stat-label">活跃天数</span>
                        </div>
                    </div>
                    <div class="stat-item clickable-stat" id="totalLinesStat" title="点击查看详细行数统计">
                        <i class="fas fa-code-branch"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="totalLines">495</span>
                            <span class="stat-label">代码行数</span>
                        </div>
                    </div>
                    
                    <div class="stat-item">
                        <i class="fas fa-coffee"></i>
                        <div class="stat-info">
                            <button class="memo-btn" id="openMemo" title="查看不务正业笔记">
                                <span>不务正业</span>
                            </button>
                        </div>
                    </div>
                    <div class="stat-item" id="usersStatItem" style="display: none;">
                        <i class="fas fa-users"></i>
                        <div class="stat-info">
                            <button class="memo-btn" id="viewUsers" title="查看所有注册用户">
                                <span>查看用户</span>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <button class="action-btn" id="previewTask" title="预览待办任务">
                        <i class="fas fa-tasks"></i>
                    </button>
                    <button class="action-btn" id="musicPlayPause" title="播放/暂停音乐">
                        <i class="fas fa-play"></i>
                    </button>
                    <button class="action-btn" id="refreshFiles" title="刷新文件列表">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                    <button class="action-btn" id="toggleTheme" title="切换主题">
                        <i class="fas fa-palette"></i>
                    </button>
                    <button class="action-btn" id="toggleSidebar" title="切换侧边栏">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <div class="layout">
                <aside class="sidebar">
                    <div class="sidebar-header">
                        <h2><i class="fas fa-folder"></i> 题目列表</h2>
                    </div>
                    
                    <!-- 搜索和筛选控件 -->
                    <div class="search-filter-container">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="searchInput" placeholder="搜索题目名称..." />
                            <button id="clearSearch" class="clear-btn" title="清除搜索">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        
                        <div class="filter-controls">
                            <div class="filter-group">
                                <label for="typeFilter">算法类型:</label>
                                <select id="typeFilter">
                                    <option value="">全部</option>
                                    <option value="dp">dp</option>
                                    <option value="str">str</option>
                                    <option value="ccpc">ccpc</option>
                                    <option value="trie">trie</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="file-list" id="fileList">
                        <!-- 文件列表将通过JavaScript动态生成 -->
                    </div>
                </aside>

                <section class="content">
                    <div class="content-header">
                        <h2 id="currentFile">选择一个文件查看代码</h2>
                        <div class="controls">
                            <button id="downloadCode" class="btn btn-primary" title="下载代码">
                                <i class="fas fa-download"></i>
                            </button>
                            <button id="copyCode" class="btn btn-primary" title="复制代码">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="code-container">
                        <pre><code class="language-cpp" id="codeDisplay">// 请从左侧选择一个C++文件查看代码</code></pre>
                    </div>

                    <div class="file-info" id="fileInfo" style="display: none;">
                        <h3><i class="fas fa-info-circle"></i> 文件信息</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="label">文件路径:</span>
                                <span id="filePath"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">文件大小:</span>
                                <span id="fileSize"></span>
                            </div>
                            <div class="info-item">
                                <span class="label">修改时间:</span>
                                <span id="fileModified"></span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- 底部音乐播放器 -->
    <div class="music-player" id="musicPlayer">
        <div class="player-container">
            <div class="player-info">
                <div class="player-cover">
                    <i class="fas fa-music"></i>
                </div>
                <div class="player-details">
                    <div class="song-title" id="songTitle">未播放</div>
                    <div class="song-artist" id="songArtist">选择音乐</div>
                </div>
                <div class="player-controls">
                    <button class="control-btn" id="prevBtn" title="上一首">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="control-btn play-btn" id="playPauseBtn" title="播放/暂停">
                        <i class="fas fa-play"></i>
                    </button>
                    <button class="control-btn" id="nextBtn" title="下一首">
                        <i class="fas fa-step-forward"></i>
                    </button>
                    <button class="control-btn" id="shuffleBtn" title="随机播放">
                        <i class="fas fa-random"></i>
                    </button>
                    <button class="control-btn" id="playlistBtn" title="播放列表">
                        <i class="fas fa-list"></i>
                    </button>
                </div>
                <div class="player-volume">
                    <i class="fas fa-volume-up"></i>
                    <input type="range" id="volumeSlider" min="0" max="100" value="70" class="volume-slider">
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-time" id="currentTime">0:00</div>
                <div class="progress-track">
                    <div class="progress-fill" id="progressFill"></div>
                    <input type="range" id="progressSlider" min="0" max="100" value="0" class="progress-slider">
                </div>
                <div class="progress-time" id="totalTime">0:00</div>
            </div>
        </div>
                    <div class="playlist-panel" id="playlistPanel">
                        <div class="playlist-header">
                            <h3><i class="fas fa-history"></i> 播放历史</h3>
                            <button class="close-btn" id="closePlaylist">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="playlist-content" id="playlistContent">
                            <!-- 播放列表将通过JavaScript动态生成 -->
                        </div>
                    </div>

                    <audio id="audioPlayer"></audio>
                </div>
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Algorithm Blog. Created with <i class="fas fa-heart"></i> by Ihxnan</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    <script src="js/particles.js?v=20260126181851"></script>
    <script src="js/script.js?v=20260126181851"></script>
    <script src="js/version-manager.js"></script>

    <!-- 热度图遮罩层 -->
    <div class="heatmap-overlay" id="heatmapOverlay"></div>

    <!-- 热度图面板 -->
    <div class="heatmap-panel" id="heatmapPanel">
        <div class="heatmap-header">
            <h3><i class="fas fa-fire"></i> 活跃热度图</h3>
            <button class="close-btn" id="closeHeatmap">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="heatmap-content" id="heatmapContent">
            <!-- 热度图将通过JavaScript动态生成 -->
        </div>
        <div class="heatmap-legend">
            <span class="legend-label">少</span>
            <div class="legend-colors">
                <div class="legend-color level-0"></div>
                <div class="legend-color level-1"></div>
                <div class="legend-color level-2"></div>
                <div class="legend-color level-3"></div>
                <div class="legend-color level-4"></div>
            </div>
            <span class="legend-label">多</span>
        </div>
    </div>

    <!-- 标签统计面板 -->
    <div class="heatmap-overlay" id="statsOverlay"></div>

    <div class="heatmap-panel" id="statsPanel">
        <div class="heatmap-header">
            <h3><i class="fas fa-chart-pie"></i> 题目分类统计</h3>
            <button class="close-btn" id="closeStats">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="stats-content" id="statsContent">
            <!-- 标签统计将通过JavaScript动态生成 -->
        </div>
    </div>

    <!-- 代码行数统计面板 -->
    <div class="heatmap-overlay" id="linesOverlay"></div>

    <div class="heatmap-panel" id="linesPanel">
        <div class="heatmap-header">
            <h3><i class="fas fa-code"></i> 代码行数统计</h3>
            <button class="close-btn" id="closeLines">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="lines-content" id="linesContent">
            <!-- 行数统计将通过JavaScript动态生成 -->
        </div>
    </div>

    <!-- 登录注册模态框遮罩层 -->
    <div class="auth-overlay" id="authOverlay"></div>

    <!-- 登录模态框 -->
    <div class="auth-modal" id="loginModal">
        <div class="auth-modal-header">
            <h2><i class="fas fa-sign-in-alt"></i> 用户登录</h2>
            <button class="close-btn" id="closeLoginModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="auth-modal-body">
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginUsername">
                        <i class="fas fa-user"></i>
                        用户名
                    </label>
                    <input type="text" id="loginUsername" name="username" placeholder="请输入用户名" required autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="loginPassword">
                        <i class="fas fa-lock"></i>
                        密码
                    </label>
                    <div class="password-input">
                        <input type="password" id="loginPassword" name="password" placeholder="请输入密码" required autocomplete="current-password">
                        <button type="button" class="toggle-password" data-target="loginPassword">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <div class="form-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="rememberMe">
                        <span>记住我</span>
                    </label>
                    <a href="#" class="forgot-password">忘记密码？</a>
                </div>
                <button type="submit" class="auth-submit-btn">
                    <i class="fas fa-sign-in-alt"></i>
                    登录
                </button>
            </form>
            <div class="auth-switch">
                <span>还没有账号？</span>
                <a href="#" class="switch-to-register">立即注册</a>
            </div>
        </div>
    </div>

    <!-- 注册模态框 -->
    <div class="auth-modal" id="registerModal">
        <div class="auth-modal-header">
            <h2><i class="fas fa-user-plus"></i> 用户注册</h2>
            <button class="close-btn" id="closeRegisterModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="auth-modal-body">
            <form id="registerForm">
                <div class="form-group">
                    <label for="registerUsername">
                        <i class="fas fa-user"></i>
                        用户名
                    </label>
                    <input type="text" id="registerUsername" name="username" placeholder="请输入用户名（3-20个字符）" required autocomplete="username" minlength="3" maxlength="20">
                </div>
                <div class="form-group">
                    <label for="registerEmail">
                        <i class="fas fa-envelope"></i>
                        邮箱
                    </label>
                    <input type="email" id="registerEmail" name="email" placeholder="请输入邮箱地址" required autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="registerPassword">
                        <i class="fas fa-lock"></i>
                        密码
                    </label>
                    <div class="password-input">
                        <input type="password" id="registerPassword" name="password" placeholder="请输入密码（至少6个字符）" required autocomplete="new-password" minlength="6">
                        <button type="button" class="toggle-password" data-target="registerPassword">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="registerConfirmPassword">
                        <i class="fas fa-lock"></i>
                        确认密码
                    </label>
                    <div class="password-input">
                        <input type="password" id="registerConfirmPassword" name="confirmPassword" placeholder="请再次输入密码" required autocomplete="new-password" minlength="6">
                        <button type="button" class="toggle-password" data-target="registerConfirmPassword">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="registerVerificationCode">
                        <i class="fas fa-shield-alt"></i>
                        验证码
                    </label>
                    <div class="verification-input">
                        <input type="text" id="registerVerificationCode" name="verificationCode" placeholder="请输入验证码" required autocomplete="one-time-code" maxlength="6">
                        <button type="button" class="send-code-btn" id="sendRegisterCode">
                            <i class="fas fa-paper-plane"></i>
                            <span>发送验证码</span>
                        </button>
                    </div>
                </div>
                <div class="form-options">
                    <label class="checkbox-label">
                        <input type="checkbox" id="agreeTerms" required>
                        <span>我已阅读并同意 <a href="#" class="terms-link">服务条款</a></span>
                    </label>
                </div>
                <button type="submit" class="auth-submit-btn">
                    <i class="fas fa-user-plus"></i>
                    注册
                </button>
            </form>
            <div class="auth-switch">
                <span>已有账号？</span>
                <a href="#" class="switch-to-login">立即登录</a>
            </div>
        </div>
    </div>

    <!-- 用户设置模态框 -->
    <div class="auth-overlay" id="userMenuOverlay"></div>

    <div class="auth-modal user-menu-modal" id="userMenuModal">
        <div class="auth-modal-header">
            <h2><i class="fas fa-user-cog"></i> 用户设置</h2>
            <button class="close-btn" id="closeUserMenuModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="auth-modal-body user-menu-body">
            <div class="user-profile-section">
                <div class="user-avatar-upload">
                    <img src="img/head.png" alt="用户头像" class="current-avatar" id="currentAvatar">
                    <label for="avatarUpload" class="avatar-upload-btn" title="更换头像">
                        <i class="fas fa-camera"></i>
                    </label>
                    <input type="file" id="avatarUpload" accept="image/*" style="display: none;">
                </div>
                <div class="user-profile-info">
                    <h3 id="currentUsername">用户名</h3>
                    <p id="currentEmail">user@example.com</p>
                </div>
            </div>

            <div class="user-menu-actions">
                <button class="user-menu-btn" id="changeUsernameBtn">
                    <i class="fas fa-user-edit"></i>
                    <span>修改用户名</span>
                </button>
                <button class="user-menu-btn" id="changePasswordBtn">
                    <i class="fas fa-key"></i>
                    <span>修改密码</span>
                </button>
                <button class="user-menu-btn user-menu-btn-danger" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>退出登录</span>
                </button>
            </div>
        </div>
    </div>

    <!-- 修改用户名模态框 -->
    <div class="auth-overlay" id="changeUsernameOverlay"></div>

    <div class="auth-modal" id="changeUsernameModal">
        <div class="auth-modal-header">
            <h2><i class="fas fa-user-edit"></i> 修改用户名</h2>
            <button class="close-btn" id="closeChangeUsernameModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="auth-modal-body">
            <form id="changeUsernameForm">
                <div class="form-group">
                    <label for="newUsername">
                        <i class="fas fa-user"></i>
                        新用户名
                    </label>
                    <input type="text" id="newUsername" name="newUsername" placeholder="请输入新用户名（3-20个字符）" required autocomplete="username" minlength="3" maxlength="20">
                </div>
                <div class="form-group">
                    <label for="confirmNewUsername">
                        <i class="fas fa-user-check"></i>
                        确认新用户名
                    </label>
                    <input type="text" id="confirmNewUsername" name="confirmNewUsername" placeholder="请再次输入新用户名" required autocomplete="username" minlength="3" maxlength="20">
                </div>
                <button type="submit" class="auth-submit-btn">
                    <i class="fas fa-save"></i>
                    保存
                </button>
            </form>
        </div>
    </div>

    <!-- 修改密码模态框 -->
    <div class="auth-overlay" id="changePasswordOverlay"></div>

    <div class="auth-modal" id="changePasswordModal">
        <div class="auth-modal-header">
            <h2><i class="fas fa-key"></i> 修改密码</h2>
            <button class="close-btn" id="closeChangePasswordModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="auth-modal-body">
            <form id="changePasswordForm">
                <div class="form-group">
                    <label for="currentPassword">
                        <i class="fas fa-lock"></i>
                        当前密码
                    </label>
                    <div class="password-input">
                        <input type="password" id="currentPassword" name="currentPassword" placeholder="请输入当前密码" required autocomplete="current-password">
                        <button type="button" class="toggle-password" data-target="currentPassword">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="newPassword">
                        <i class="fas fa-lock"></i>
                        新密码
                    </label>
                    <div class="password-input">
                        <input type="password" id="newPassword" name="newPassword" placeholder="请输入新密码（至少6个字符）" required autocomplete="new-password" minlength="6">
                        <button type="button" class="toggle-password" data-target="newPassword">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="confirmNewPassword">
                        <i class="fas fa-lock"></i>
                        确认新密码
                    </label>
                    <div class="password-input">
                        <input type="password" id="confirmNewPassword" name="confirmNewPassword" placeholder="请再次输入新密码" required autocomplete="new-password" minlength="6">
                        <button type="button" class="toggle-password" data-target="confirmNewPassword">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <button type="submit" class="auth-submit-btn">
                    <i class="fas fa-save"></i>
                    保存
                </button>
            </form>
        </div>
    </div>

    <!-- 用户列表模态框 -->
    <div class="auth-overlay" id="usersListOverlay"></div>

    <div class="auth-modal users-list-modal" id="usersListModal">
        <div class="auth-modal-header">
            <h2><i class="fas fa-users"></i> 注册用户列表</h2>
            <button class="close-btn" id="closeUsersListModal">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="auth-modal-body users-list-body">
            <div class="users-list-container" id="usersListContainer">
                <!-- 用户列表将通过JavaScript动态生成 -->
            </div>
        </div>
    </div>
</body>
</html>
